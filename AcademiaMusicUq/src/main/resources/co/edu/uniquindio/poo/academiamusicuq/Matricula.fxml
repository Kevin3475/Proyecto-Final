<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<AnchorPane prefHeight="700.0" prefWidth="1000.0" styleClass="dashboard-container"
            xmlns="http://javafx.com/javafx/8"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="co.edu.uniquindio.poo.academiamusicuq.viewController.MatriculaViewController">

    <children>
        <VBox prefHeight="700.0" prefWidth="1000.0">
            <!-- Header -->
            <HBox alignment="CENTER_LEFT" style="-fx-background-color: #2c3e50; -fx-padding: 15;">
                <children>
                    <Button mnemonicParsing="false" onAction="#onVolver" text="â¬… Volver al MenÃº" styleClass="secondary-button">
                        <HBox.margin>
                            <Insets right="20.0" />
                        </HBox.margin>
                    </Button>
                    <Label text="ðŸ“‹ GestiÃ³n Completa de MatrÃ­culas" style="-fx-text-fill: white; -fx-font-size: 20; -fx-font-weight: bold;"/>
                </children>
            </HBox>

            <!-- Contenido principal con pestaÃ±as -->
            <TabPane fx:id="tabPane" tabClosingPolicy="UNAVAILABLE" VBox.vgrow="ALWAYS">
                <tabs>
                    <!-- PESTAÃ‘A 1: GESTIÃ“N MATRÃCULAS -->
                    <Tab text="ðŸŽ« GestiÃ³n MatrÃ­culas">
                        <content>
                            <VBox styleClass="content-area" spacing="20.0">
                                <VBox.margin>
                                    <Insets top="20.0" />
                                </VBox.margin>

                                <!-- Formulario GestiÃ³n MatrÃ­culas -->
                                <VBox styleClass="form-container" spacing="15.0">
                                    <VBox.margin>
                                        <Insets left="20.0" right="20.0" />
                                    </VBox.margin>

                                    <Label text="Registrar/Editar MatrÃ­cula" styleClass="section-title"/>

                                    <GridPane hgap="15.0" vgap="15.0">
                                        <columnConstraints>
                                            <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="120.0" />
                                            <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="200.0" />
                                            <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="120.0" />
                                            <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="200.0" />
                                        </columnConstraints>
                                        <rowConstraints>
                                            <RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES" />
                                            <RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES" />
                                        </rowConstraints>
                                        <children>
                                            <Label text="ID MatrÃ­cula:*" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                                            <TextField fx:id="txtIdMatricula" promptText="Ej: 1" styleClass="form-field" GridPane.columnIndex="1" GridPane.rowIndex="0" />

                                            <Label text="Estudiante:*" styleClass="form-label" GridPane.columnIndex="2" GridPane.rowIndex="0" />
                                            <ComboBox fx:id="cbEstudianteMatricula" styleClass="form-field" GridPane.columnIndex="3" GridPane.rowIndex="0" />

                                            <Label text="Curso:*" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                                            <ComboBox fx:id="cbCursoMatricula" styleClass="form-field" GridPane.columnIndex="1" GridPane.rowIndex="1" />

                                            <Label text="Fecha InscripciÃ³n:*" styleClass="form-label" GridPane.columnIndex="2" GridPane.rowIndex="1" />
                                            <DatePicker fx:id="dpFechaInscripcion" styleClass="form-field" GridPane.columnIndex="3" GridPane.rowIndex="1" />

                                            <Label text="Estado:*" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                                            <ComboBox fx:id="cbEstadoMatricula" styleClass="form-field" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                                        </children>
                                    </GridPane>

                                    <HBox alignment="CENTER" spacing="15.0">
                                        <children>
                                            <Button fx:id="btnAgregarMatricula" mnemonicParsing="false" onAction="#onAgregarMatricula" text="âž• Agregar" styleClass="primary-button"/>
                                            <Button fx:id="btnActualizarMatricula" mnemonicParsing="false" onAction="#onActualizarMatricula" text="âœï¸ Actualizar" styleClass="primary-button"/>
                                            <Button fx:id="btnEliminarMatricula" mnemonicParsing="false" onAction="#onEliminarMatricula" text="ðŸ—‘ï¸ Eliminar" styleClass="warning-button"/>
                                            <Button fx:id="btnLimpiarMatricula" mnemonicParsing="false" onAction="#onLimpiarCamposMatricula" text="ðŸ§¹ Limpiar" styleClass="secondary-button"/>
                                        </children>
                                    </HBox>

                                    <Label text="* Campos obligatorios" style="-fx-text-fill: #7f8c8d; -fx-font-size: 12;"/>
                                </VBox>

                                <!-- Tabla MatrÃ­culas -->
                                <Label text="Lista de MatrÃ­culas Registradas" styleClass="section-subtitle">
                                    <VBox.margin>
                                        <Insets left="20.0" />
                                    </VBox.margin>
                                </Label>

                                <TableView fx:id="tblMatriculas" VBox.vgrow="ALWAYS">
                                    <VBox.margin>
                                        <Insets bottom="20.0" left="20.0" right="20.0" top="10.0" />
                                    </VBox.margin>
                                    <columns>
                                        <TableColumn fx:id="colIdMatricula" prefWidth="80.0" text="ID" />
                                        <TableColumn fx:id="colEstudianteMatricula" prefWidth="200.0" text="Estudiante" />
                                        <TableColumn fx:id="colCursoMatricula" prefWidth="200.0" text="Curso" />
                                        <TableColumn fx:id="colFechaMatricula" prefWidth="120.0" text="Fecha" />
                                        <TableColumn fx:id="colEstadoMatricula" prefWidth="120.0" text="Estado" />
                                    </columns>
                                </TableView>
                            </VBox>
                        </content>
                    </Tab>

                    <!-- PESTAÃ‘A 2: CERTIFICADOS -->
                    <Tab text="ðŸ“œ Certificados">
                        <content>
                            <VBox styleClass="content-area" spacing="20.0">
                                <VBox.margin>
                                    <Insets top="20.0" />
                                </VBox.margin>

                                <Label text="GestiÃ³n de Certificados" styleClass="section-title">
                                    <VBox.margin>
                                        <Insets left="20.0" />
                                    </VBox.margin>
                                </Label>

                                <!-- SecciÃ³n SelecciÃ³n de MatrÃ­cula -->
                                <VBox styleClass="form-container" spacing="15.0">
                                    <VBox.margin>
                                        <Insets left="20.0" right="20.0" />
                                    </VBox.margin>

                                    <HBox alignment="CENTER_LEFT" spacing="15.0">
                                        <children>
                                            <Label text="Seleccionar MatrÃ­cula:" styleClass="form-label"/>
                                            <ComboBox fx:id="cbMatriculaCertificado" styleClass="form-field" prefWidth="300.0" onAction="#onMatriculaCertificadoChanged"/>
                                        </children>
                                    </HBox>
                                </VBox>

                                <!-- SecciÃ³n InformaciÃ³n del Certificado -->
                                <VBox styleClass="form-container" spacing="15.0">
                                    <VBox.margin>
                                        <Insets left="20.0" right="20.0" />
                                    </VBox.margin>

                                    <Label text="ðŸ“‹ InformaciÃ³n del Certificado" style="-fx-font-weight: bold; -fx-font-size: 16;"/>

                                    <HBox alignment="CENTER_LEFT" spacing="15.0">
                                        <children>
                                            <Button fx:id="btnEmitirCertificado" mnemonicParsing="false" onAction="#onEmitirCertificado" text="ðŸ–¨ï¸ Emitir Certificado" styleClass="primary-button"/>
                                            <Button fx:id="btnVerCertificado" mnemonicParsing="false" onAction="#onVerCertificado" text="ðŸ‘ï¸ Ver Certificado" styleClass="secondary-button"/>
                                        </children>
                                    </HBox>

                                    <Label fx:id="lblInfoCertificado" text="Seleccione una matrÃ­cula para ver informaciÃ³n del certificado"
                                           style="-fx-text-fill: #7f8c8d; -fx-font-style: italic; -fx-padding: 10; -fx-background-color: #f8f9fa; -fx-border-color: #e9ecef; -fx-border-radius: 5;"/>
                                </VBox>

                                <!-- Tabla MatrÃ­culas para Certificados -->
                                <Label text="MatrÃ­culas para GestiÃ³n de Certificados" styleClass="section-subtitle">
                                    <VBox.margin>
                                        <Insets left="20.0" />
                                    </VBox.margin>
                                </Label>

                                <TableView fx:id="tblMatriculasCertificados" VBox.vgrow="ALWAYS">
                                    <VBox.margin>
                                        <Insets bottom="20.0" left="20.0" right="20.0" top="10.0" />
                                    </VBox.margin>
                                    <columns>
                                        <TableColumn fx:id="colIdMatriculaCert" prefWidth="80.0" text="ID" />
                                        <TableColumn fx:id="colEstudianteCert" prefWidth="200.0" text="Estudiante" />
                                        <TableColumn fx:id="colCursoCert" prefWidth="200.0" text="Curso" />
                                        <TableColumn fx:id="colEstadoCert" prefWidth="120.0" text="Estado" />
                                        <TableColumn fx:id="colCertificadoCert" prefWidth="120.0" text="Certificado" />
                                    </columns>
                                </TableView>
                            </VBox>
                        </content>
                    </Tab>
                </tabs>
            </TabPane>
        </VBox>
    </children>
</AnchorPane>